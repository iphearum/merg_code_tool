function wpestate_load_stats_tabs(e){var a=ajaxcalls_vars.admin_url+"admin-ajax.php";jQuery.ajax({type:"POST",url:a,dataType:"json",data:{action:"wpestate_load_stats_property",postid:e},success:function(a){wpestate_show_prop_stat_graph_tab(a.array_values,a.labels,e)},error:function(e){}})}function wpestate_show_prop_stat_graph_tab(e,a,t){var r=jQuery("#myChart").get(0).getContext("2d"),i=(new Chart(r),{labels:a,datasets:[{label:"My First dataset",fillColor:"rgba(220,220,220,0.5)",strokeColor:"rgba(220,220,220,0.8)",highlightFill:"rgba(220,220,220,0.75)",highlightStroke:"rgba(220,220,220,1)",data:e}]});new Chart(r).Bar(i,{scaleBeginAtZero:!0,scaleShowGridLines:!0,scaleGridLineColor:"rgba(0,0,0,.05)",scaleGridLineWidth:1,scaleShowHorizontalLines:!0,scaleShowVerticalLines:!0,barShowStroke:!0,barStrokeWidth:2,barValueSpacing:5,barDatasetSpacing:1,legendTemplate:'<ul class="<%=name.toLowerCase()%>-legend"><% for (var i=0; i<datasets.length; i++){%><li><span style="background-color:<%=datasets[i].fillColor%>"></span><%if(datasets[i].label){%><%=datasets[i].label%><%}%></li><%}%></ul>'})}function wpestate_load_stats(e){var a=ajaxcalls_vars.admin_url+"admin-ajax.php";jQuery.ajax({type:"POST",url:a,dataType:"json",data:{action:"wpestate_load_stats_property",postid:e},success:function(a){wpestate_show_prop_stat_graph(a.array_values,a.labels,e)},error:function(e){}})}function wpestate_show_prop_stat_graph(e,a,t){var r=jQuery("#myChart_"+t).get(0).getContext("2d"),i=(new Chart(r),{labels:a,datasets:[{label:"My First dataset",fillColor:"rgba(220,220,220,0.5)",strokeColor:"rgba(220,220,220,0.8)",highlightFill:"rgba(220,220,220,0.75)",highlightStroke:"rgba(220,220,220,1)",data:e}]});new Chart(r).Bar(i,{scaleBeginAtZero:!0,scaleShowGridLines:!0,scaleGridLineColor:"rgba(0,0,0,.05)",scaleGridLineWidth:1,scaleShowHorizontalLines:!0,scaleShowVerticalLines:!0,barShowStroke:!0,barStrokeWidth:2,barValueSpacing:5,barDatasetSpacing:1,legendTemplate:'<ul class="<%=name.toLowerCase()%>-legend"><% for (var i=0; i<datasets.length; i++){%><li><span style="background-color:<%=datasets[i].fillColor%>"></span><%if(datasets[i].label){%><%=datasets[i].label%><%}%></li><%}%></ul>'})}function get_filtering_ajax_result(){var e,a,t,r,i,s,o,l,n,_;console.log("get_filtering_ajax_result"),e=jQuery("#adv_actions").attr("data-value"),a=jQuery("#adv_categ").attr("data-value"),t=jQuery("#advanced_city").attr("data-value"),r=jQuery("#advanced_area").attr("data-value"),i=parseInt(jQuery("#adv_rooms").val(),10),s=parseInt(jQuery("#adv_bath").val(),10),o=parseInt(jQuery("#price_low").val(),10),l=parseInt(jQuery("#price_max").val(),10),_=parseInt(jQuery("#adv-search-1").attr("data-postid"),10),n=ajaxcalls_vars.admin_url+"admin-ajax.php",jQuery.ajax({type:"POST",url:n,data:{action:"get_filtering_ajax_result",action_values:e,category_values:a,city:t,area:r,advanced_rooms:i,advanced_bath:s,price_low:o,price_max:l,postid:_},success:function(e){jQuery("#results, #showinpage,#showinpage_mobile").show(),jQuery("#results_no").show().empty().append(e)},error:function(e){}})}function custom_get_filtering_ajax_result(){}function start_filtering_ajax(e){var a,t,r,i,s,o,l,n,_,p,u,d;a=jQuery("#adv_actions").attr("data-value"),t=jQuery("#adv_categ").attr("data-value"),r=jQuery("#advanced_city").attr("data-value"),i=jQuery("#advanced_area").attr("data-value"),s=parseFloat(jQuery("#adv_rooms").val(),10),o=parseFloat(jQuery("#adv_bath").val(),10),l=parseFloat(jQuery("#price_low").val(),10),n=parseFloat(jQuery("#price_max").val(),10),p=parseFloat(jQuery("#adv-search-1").attr("data-postid"),10),_=ajaxcalls_vars.admin_url+"admin-ajax.php",u=0,jQuery("#google_map_prop_list_sidebar").length&&(u=1),p=1,document.getElementById("search_wrapper")&&(p=parseInt(jQuery("#search_wrapper").attr("data-postid"),10)),d="",jQuery('.extended_search_check_wrapper  input[type="checkbox"]').each(function(){jQuery(this).is(":checked")&&(d=d+","+jQuery(this).attr("name"))}),u=0,jQuery("#google_map_prop_list_sidebar").length&&(u=1);var c="",g="",v="";jQuery("#geolocation_search").length>0&&(c=jQuery("#geolocation_lat").val(),g=jQuery("#geolocation_long").val(),v=jQuery("#geolocation_radius").val()),jQuery("#listing_ajax_container").empty(),jQuery("#listing_loader").show(),jQuery.ajax({type:"POST",url:_,data:{action:"wpestate_ajax_filter_listings_search",action_values:a,category_values:t,city:r,area:i,advanced_rooms:s,advanced_bath:o,price_low:l,price_max:n,newpage:e,postid:p,halfmap:u,all_checkers:d,geo_lat:c,geo_long:g,geo_rad:v},success:function(e){jQuery("#listing_loader").hide(),jQuery(".listing_loader_title").show(),jQuery(".pagination_nojax").hide(),jQuery("#listing_ajax_container").empty().append(e),restart_js_after_ajax()},error:function(e){}})}function typeof_value(e,a){return void 0!==e?jQuery("#"+a).hasClass("filter_menu_trigger")||(e="adv_categ"!==a&&"adv_actions"!==a&&"advanced_city"!==a&&"advanced_area"!==a&&"county-state"!==a&&"property-country"!==a?e:e.replace("-"," ")):e="",e}function custom_search_start_filtering_ajax(e){var a,t,r,i,s,o,l,n,_,p,u,d;if(console.log("custom_search_start_filtering_ajax"),t=parseInt(mapfunctions_vars.fields_no,10),s=[],i=[],r=[],i=mapfunctions_vars.slugs,r=mapfunctions_vars.hows,"yes"===mapfunctions_vars.slider_price&&(n=jQuery("#price_low").val(),_=jQuery("#price_max").val()),"6"!==mapfunctions_vars.adv_search_type&&"7"!==mapfunctions_vars.adv_search_type||jQuery(".halfsearch")[0])for(c=0;c<t;c++)void 0===(a=get_custom_value(i[c]))&&(a=""),s.push(a);else{d=jQuery(".tab-pane.active .term_id_class").val(),"yes"===mapfunctions_vars.slider_price&&(n=jQuery("#price_low_"+d).val(),_=jQuery("#price_max_"+d).val());for(var c=0;c<t;c++)void 0===(a="date bigger"==r[c]||"date smaller"==r[c]?get_custom_value_tab_search(d+i[c]):get_custom_value_tab_search(i[c]))&&(a=""),s.push(a)}if("6"===mapfunctions_vars.adv_search_type||"7"===mapfunctions_vars.adv_search_type||"8"===mapfunctions_vars.adv_search_type||"9"===mapfunctions_vars.adv_search_type){var g=jQuery(".adv_search_tab_item.active").attr("data-tax");jQuery(".halfsearch")[0]&&(g=jQuery(".halfsearch").attr("data-tax")),"property_category"===g?i[t]="adv_categ":"property_action_category"===g?i[t]="adv_actions":"property_city"===g?i[t]="advanced_city":"property_area"===g?i[t]="advanced_area":"property_county_state"===g&&(i[t]="county-state"),r[t]="like",jQuery(".halfsearch")[0]?s[t]=jQuery("#"+i[t]).parent().find("input:hidden").val():s[t]=jQuery(".adv_search_tab_item.active").attr("data-term")}u="",jQuery('.extended_search_check_wrapper  input[type="checkbox"]').each(function(){jQuery(this).is(":checked")&&(u=u+","+jQuery(this).attr("name"))}),p=0,jQuery("#google_map_prop_list_sidebar").length&&(p=1),l=1,document.getElementById("search_wrapper")&&(l=parseInt(jQuery("#search_wrapper").attr("data-postid"),10)),o=ajaxcalls_vars.admin_url+"admin-ajax.php";var v="",y="";"10"===mapfunctions_vars.adv_search_type&&(v=jQuery("#adv_actions").attr("data-value"),y=jQuery("#adv_location").val());var j="",f="",m="";"11"===mapfunctions_vars.adv_search_type&&(j=jQuery("#adv_actions").attr("data-value"),f=jQuery("#adv_categ").attr("data-value"),m=jQuery("#keyword_search").val());var h="",w="",Q="";jQuery("#geolocation_search").length>0&&(h=jQuery("#geolocation_lat").val(),w=jQuery("#geolocation_long").val(),Q=jQuery("#geolocation_radius").val()),jQuery("#listing_ajax_container").empty(),jQuery("#listing_loader").show(),jQuery.ajax({type:"POST",url:o,data:{action:"wpestate_custom_adv_ajax_filter_listings_search",val_holder:s,newpage:e,postid:l,slider_min:n,slider_max:_,halfmap:p,all_checkers:u,filter_search_action10:v,adv_location10:y,filter_search_action11:j,filter_search_categ11:f,keyword_search:m,geo_lat:h,geo_long:w,geo_rad:Q},success:function(e){jQuery("#listing_loader").hide(),jQuery(".listing_loader_title").show(),jQuery(".entry-title.title_prop").hide(),jQuery("#listing_ajax_container").empty().append(e),restart_js_after_ajax(),jQuery(".col-md-12.listing_wrapper .property_unit_custom_element.image").each(function(){jQuery(this).parent().addClass("wrap_custom_image")})},error:function(e){}})}function restart_js_after_ajax(){var e,a,t,r;wpestate_lazy_load_carousel_property_unit(),"function"==typeof enable_half_map_pin_action&&enable_half_map_pin_action(),jQuery(".pagination_ajax_search a").click(function(a){a.preventDefault(),e=parseInt(jQuery(this).attr("data-future"),10),document.getElementById("scrollhere").scrollIntoView(),"yes"===mapfunctions_vars.custom_search?custom_search_start_filtering_ajax(e):start_filtering_ajax(e)}),jQuery(".pagination_ajax a").click(function(a){a.preventDefault(),e=parseInt(jQuery(this).attr("data-future"),10),document.getElementById("scrollhere").scrollIntoView(),start_filtering(e)}),jQuery(".property_listing").click(function(){var e;e=jQuery(this).attr("data-link"),window.open(e,"_self")}),jQuery(".share_unit").click(function(e){e.stopPropagation()});var i=[];jQuery(".compare-action").unbind("click"),jQuery(".compare-action").click(function(e){e.preventDefault(),e.stopPropagation(),jQuery(".prop-compare").animate({right:"0px"}),a=jQuery(this).attr("data-pid");for(var s=0;s<i.length;s++)if(i[s]===a)return;i.push(a),t=jQuery(this).attr("data-pimage"),r='<div class="items_compare ajax_compare" style="display:none;"><img src="'+t+'" alt="compare_thumb" class="img-responsive"><input type="hidden" value="'+a+'" name="selected_id[]" /></div>',jQuery("div.items_compare:first-child").css("background","red"),parseInt(jQuery(".items_compare").length,10)>3&&jQuery(".items_compare:first").remove(),jQuery("#submit_compare").before(r),jQuery(".items_compare").fadeIn(800)}),jQuery("#submit_compare").unbind("click"),jQuery("#submit_compare").click(function(){jQuery("#form_compare").trigger("submit")}),jQuery(".icon-fav").click(function(e){e.stopPropagation(),add_remove_favorite(jQuery(this))}),jQuery(".share_list, .icon-fav, .compare-action").hover(function(){jQuery(this).tooltip("show")},function(){jQuery(this).tooltip("hide")}),jQuery(".share_list").click(function(e){e.stopPropagation(),jQuery(this).parent().find(".share_unit").toggle(),jQuery(this).toggleClass("share_on")}),setTimeout(function(){jQuery(".property_listing").matchHeight()},1e3)}function add_remove_favorite(e){var a,t;a=e.attr("data-postid"),jQuery("#security-pass").val(),t=ajaxcalls_vars.admin_url+"admin-ajax.php",0===parseInt(ajaxcalls_vars.userid,10)?Modernizr.mq("only all and (max-width: 768px)")?jQuery(".mobile-trigger-user").trigger("click"):(jQuery("#modal_login_wrapper").show(),jQuery("#loginpop").val("1")):(e.toggleClass("icon-fav-off"),e.toggleClass("icon-fav-on"),jQuery.ajax({type:"POST",url:t,dataType:"json",data:{action:"wpestate_ajax_add_fav",post_id:a},success:function(a){a.added?e.removeClass("icon-fav-off").addClass("icon-fav-on"):e.removeClass("icon-fav-on").addClass("icon-fav-off")},error:function(e){}}))}function resend_for_approval(e,a){var t,r;t=control_vars.admin_url+"admin-ajax.php",jQuery.ajax({type:"POST",url:t,data:{action:"wpestate_ajax_resend_for_approval",propid:e},success:function(e){"pending"===e?(a.parent().empty().append('<span class="featured_prop">Sent for approval</span>'),r=parseInt(jQuery("#normal_list_no").text(),10),jQuery("#normal_list_no").text(r-1)):a.parent().empty().append(e)},error:function(e){}})}function make_prop_featured(e,a){var t=ajaxcalls_vars.admin_url+"admin-ajax.php";jQuery.ajax({type:"POST",url:t,data:{action:"wpestate_ajax_make_prop_featured",propid:e},success:function(e){if("done"===e.trim()){a.empty().html('<span class="label label-success">'+ajaxcalls_vars.prop_featured+"</span>");var t=parseInt(jQuery("#featured_list_no").text(),10);jQuery("#featured_list_no").text(t-1)}else a.empty().removeClass("make_featured").addClass("featured_exp").text(ajaxcalls_vars.no_prop_featured)},error:function(e){}})}function recuring_pay_pack_via_paypal(){var e,a,t;e=control_vars.admin_url+"admin-ajax.php",a=jQuery(".package_selected .pack-listing-title").text(),t=jQuery(".package_selected .pack-listing-title").attr("data-packid"),jQuery.ajax({type:"POST",url:e,data:{action:"wpestate_ajax_paypal_pack_recuring_generation",packName:a,packId:t},success:function(e){window.location.href=e},error:function(e){}})}function pay_pack_via_paypal(){var e,a,t;e=control_vars.admin_url+"admin-ajax.php",a=jQuery(".package_selected .pack-listing-title").text(),t=jQuery(".package_selected .pack-listing-title").attr("data-packid"),jQuery.ajax({type:"POST",url:e,data:{action:"wpestate_ajax_paypal_pack_generation",packName:a,packId:t},success:function(e){window.location.href=e},error:function(e){}})}function listing_pay(e,a,t,r){var i=control_vars.admin_url+"admin-ajax.php";jQuery.ajax({type:"POST",url:i,data:{action:"wpestate_ajax_listing_pay",propid:e,is_featured:t,is_upgrade:r},success:function(e){window.location.href=e},error:function(e){}})}function start_filtering(e){var a,t,r,i,s,o,l;jQuery("#gmap-loading").show(),jQuery("#grid_view").addClass("icon_selected"),jQuery("#list_view").removeClass("icon_selected"),a=jQuery("#a_filter_action").attr("data-value"),t=jQuery("#a_filter_categ").attr("data-value"),r=jQuery("#a_filter_cities").attr("data-value"),i=jQuery("#a_filter_areas").attr("data-value"),s=jQuery("#a_filter_order").attr("data-value"),o=ajaxcalls_vars.admin_url+"admin-ajax.php",l=jQuery("#page_idx").val(),jQuery("#listing_ajax_container").empty(),jQuery("#listing_loader").show(),jQuery.ajax({type:"POST",url:o,dataType:"json",data:{action:"ajax_filter_listings",action_values:a,category_values:t,city:r,area:i,order:s,newpage:e,page_id:l},success:function(e){jQuery("#listing_loader").hide(),jQuery("#listing_ajax_container").empty().append(e.to_show),jQuery(".pagination_nojax").hide(),restart_js_after_ajax();var a=parseInt(e.no_results);0!==a?wpestate_load_on_demand_pins(e.markers,a,0):wpestate_show_no_results(),jQuery(".col-md-12.listing_wrapper .property_unit_custom_element.image").each(function(){jQuery(this).parent().addClass("wrap_custom_image")}),jQuery("#gmap-loading").hide()},error:function(e){}})}function wpestate_change_pass_profile(){var e,a,t,r,i;e=jQuery("#oldpass").val(),a=jQuery("#newpass").val(),t=jQuery("#renewpass").val(),r=jQuery("#security-pass").val(),i=ajaxcalls_vars.admin_url+"admin-ajax.php",jQuery.ajax({type:"POST",url:i,data:{action:"wpestate_ajax_update_pass",oldpass:e,newpass:a,renewpass:t,"security-pass":r},success:function(e){jQuery("#profile_pass").empty().append('<div class="login-alert">'+e+"<div>"),jQuery("#oldpass, #newpass, #renewpass").val("")},error:function(e){}})}function wpestate_register_user(e){var a,t,r,i,s,o,l,n;if(a="",l=ajaxcalls_vars.admin_url+"admin-ajax.php",jQuery("#register_message_area_topbar").empty().append('<div class="login-alert">'+control_vars.procesing+"</div>"),1===e){if("yes"===control_vars.usecaptcha&&(a=grecaptcha.getResponse(widgetId1)),n=jQuery("#new_user_type_topbar").val(),t=jQuery("#user_login_register_topbar").val(),r=jQuery("#user_email_register_topbar").val(),o=jQuery("#security-register-topbar").val(),"yes"===ajaxcalls_vars.userpass&&(i=jQuery("#user_password_topbar").val(),s=jQuery("#user_password_topbar_retype").val()),!jQuery("#user_terms_register_topbar").is(":checked"))return void jQuery("#register_message_area_topbar").empty().append('<div class="login-alert">'+control_vars.terms_cond+"</div>")}else if(2===e){if("yes"===control_vars.usecaptcha&&(a=grecaptcha.getResponse(widgetId3)),t=jQuery("#user_login_register_wd").val(),r=jQuery("#user_email_register_wd").val(),o=jQuery("#security-register").val(),"yes"===ajaxcalls_vars.userpass&&(i=jQuery("#user_password_wd").val(),s=jQuery("#user_password_wd_retype").val()),!jQuery("#user_terms_register_wd").is(":checked"))return void jQuery("#register_message_area_wd").empty().append('<div class="login-alert">'+control_vars.terms_cond+"</div>")}else if(3===e){if("yes"===control_vars.usecaptcha&&(a=grecaptcha.getResponse(widgetId4)),t=jQuery("#user_login_register").val(),r=jQuery("#user_email_register").val(),o=jQuery("#security-register").val(),"yes"===ajaxcalls_vars.userpass&&(i=jQuery("#user_password").val(),s=jQuery("#user_password_retype").val()),!jQuery("#user_terms_register_sh").is(":checked"))return void jQuery("#register_message_area").empty().append('<div class="login-alert">'+control_vars.terms_cond+"</div>")}else if(5===e&&("yes"===control_vars.usecaptcha&&(a=grecaptcha.getResponse(widgetId2)),n=jQuery("#user_type_register_mobile").val(),t=jQuery("#user_login_register_mobile").val(),r=jQuery("#user_email_register_mobile").val(),o=jQuery("#security-register-mobile").val(),"yes"===ajaxcalls_vars.userpass&&(i=jQuery("#user_password_mobile").val(),s=jQuery("#user_password_mobile_retype").val()),!jQuery("#user_terms_register_mobile").is(":checked")))return void jQuery("#register_message_area_mobile").empty().append('<div class="login-alert">'+control_vars.terms_cond+"</div>");jQuery.ajax({type:"POST",url:l,data:{action:"wpestate_ajax_register_user",user_login_register:t,user_email_register:r,user_pass:i,user_pass_retype:s,user_type:n,type:e,"security-register":o,capthca:a},success:function(a){1===e?(jQuery("#register_message_area_topbar").empty().append('<div class="login-alert">'+a+"</div>"),jQuery("#user_login_register_topbar").val(""),jQuery("#user_email_register_topbar").val(""),jQuery("#new_user_type_topbar").val(""),jQuery("#user_password_topbar").val(""),jQuery("#user_password_topbar_retype").val("")):2===e?(jQuery("#register_message_area_wd").empty().append('<div class="login-alert">'+a+"</div>"),jQuery("#user_login_register_wd").val(""),jQuery("#user_email_register_wd").val(""),jQuery("#user_password_wd").val(""),jQuery("#user_password_wd_retype").val("")):3===e?(jQuery("#register_message_area").empty().append('<div class="login-alert">'+a+"</div>"),jQuery("#user_login_register").val(""),jQuery("#user_email_register").val(""),jQuery("#user_password").val(""),jQuery("#user_password_retype").val("")):5===e&&(jQuery("#register_message_area_mobile").empty().append('<div class="login-alert">'+a+"</div>"),jQuery("#user_login_register_mobile").val(""),jQuery("#user_email_register_mobile").val(""),jQuery("#user_password_mobile").val(""),jQuery("#user_password_mobile_retype").val(""))},error:function(e){}})}function wpestate_forgot(e){var a,t,r,i;1===e&&(a=jQuery("#forgot_email").val(),t=jQuery("#security-forgot").val()),2===e&&(a=jQuery("#forgot_email_topbar").val(),t=jQuery("#security-forgot-topbar").val()),3===e&&(a=jQuery("#forgot_email_shortcode").val(),t=jQuery("#security-login-forgot_wd").val()),5===e&&(a=jQuery("#forgot_email_mobile").val(),t=jQuery("#security-forgot-mobile").val()),r=jQuery("#postid").val(),i=ajaxcalls_vars.admin_url+"admin-ajax.php",jQuery.ajax({type:"POST",url:i,data:{action:"wpestate_ajax_forgot_pass",forgot_email:a,"security-forgot":t,postid:r,type:e},success:function(a){1===e&&(jQuery("#forgot_email").val(""),jQuery("#forgot_pass_area").empty().append('<div class="login-alert">'+a+"<div>")),2===e&&(jQuery("#forgot_email_topbar").val(""),jQuery("#forgot_pass_area_topbar").empty().append('<div class="login-alert">'+a+"<div>")),3===e&&(jQuery("#forgot_email_shortcode").val(""),jQuery("#forgot_pass_area_shortcode").empty().append('<div class="login-alert">'+a+"<div>")),5===e&&(jQuery("#forgot_email_mobile").val(""),jQuery("#forgot_pass_area_mobile").empty().append('<div class="login-alert">'+a+"<div>"))},error:function(e){}})}function wpestate_login_wd(){var e,a,t,r,i;e=jQuery("#login_user_wd").val(),a=jQuery("#login_pwd_wd").val(),i=jQuery("#security-login").val(),t=jQuery("#loginpop_wd").val(),r=ajaxcalls_vars.admin_url+"admin-ajax.php",jQuery("#login_message_area_wd").empty().append('<div class="login-alert">'+ajaxcalls_vars.login_loading+"</div>"),jQuery.ajax({type:"POST",dataType:"json",url:r,data:{action:"ajax_loginx_form",login_user:e,login_pwd:a,ispop:t,"security-login":i},success:function(e){jQuery("#login_message_area_wd").empty().append('<div class="login-alert">'+e.message+"<div>"),!0===e.loggedin?(1===parseInt(e.ispop,10)?(ajaxcalls_vars.userid=e.newuser,jQuery("#ajax_login_container").remove()):document.location.href=ajaxcalls_vars.login_redirect,jQuery("#user_not_logged_in").hide(),jQuery("#user_logged_in").show()):(jQuery("#login_user").val(""),jQuery("#login_pwd").val(""))},error:function(e){}})}function wpestate_login_topbar(){var e,a,t,r,i;e=jQuery("#login_user_topbar").val(),a=jQuery("#login_pwd_topbar").val(),r=jQuery("#security-login-topbar").val(),t=ajaxcalls_vars.admin_url+"admin-ajax.php",i=jQuery("#loginpop").val(),jQuery("#login_message_area_topbar").empty().append('<div class="login-alert">'+ajaxcalls_vars.login_loading+"</div>"),jQuery.ajax({type:"POST",dataType:"json",url:t,data:{action:"ajax_loginx_form_topbar",login_user:e,login_pwd:a,ispop:i,security:r},success:function(e){jQuery("#login_message_area_topbar").empty().append('<div class="login-alert">'+e.message+"<div>"),!0===e.loggedin?1===parseInt(e.ispop,10)?(ajaxcalls_vars.userid=e.newuser,jQuery("#user_menu_u.user_not_loged").unbind("click"),jQuery("#user_menu_u").removeClass("user_not_loged").addClass("user_loged"),jQuery("#modal_login_wrapper").hide(),update_menu_bar(e.newuser),wpestate_open_menu()):document.location.href=ajaxcalls_vars.login_redirect:(jQuery("#login_user").val(""),jQuery("#login_pwd").val(""))},error:function(e){}})}function wpestate_login_mobile(){var e,a,t,r;e=jQuery("#login_user_mobile").val(),a=jQuery("#login_pwd_mobile").val(),r=jQuery("#security-login-mobile").val(),t=ajaxcalls_vars.admin_url+"admin-ajax.php",jQuery("#login_message_area_mobile").empty().append('<div class="login-alert">'+ajaxcalls_vars.login_loading+"</div>"),jQuery.ajax({type:"POST",dataType:"json",url:t,data:{action:"wpestate_ajax_loginx_form_mobile",login_user:e,login_pwd:a,security:r},success:function(e){jQuery("#login_message_area_mobile").empty().append('<div class="login-alert">'+e.message+"<div>"),!0===e.loggedin?document.location.href=ajaxcalls_vars.login_redirect:(jQuery("#login_user_mobile").val(""),jQuery("#login_pwd_mobile").val(""))},error:function(e){}})}function wpestate_login(){var e,a,t,r,i;e=jQuery("#login_user").val(),a=jQuery("#login_pwd").val(),t=jQuery("#security-login").val(),r=jQuery("#loginpop").val(),i=ajaxcalls_vars.admin_url+"admin-ajax.php",jQuery("#login_message_area").empty().append('<div class="login-alert">'+ajaxcalls_vars.login_loading+"</div>"),jQuery.ajax({type:"POST",dataType:"json",url:i,data:{action:"ajax_loginx_form",login_user:e,login_pwd:a,ispop:r,"security-login":t},success:function(e){jQuery("#login_message_area").empty().append('<div class="login-alert">'+e.message+"<div>"),!0===e.loggedin?(1===parseInt(e.ispop,10)?(ajaxcalls_vars.userid=e.newuser,jQuery("#loginmodal").modal("hide"),update_menu_bar(e.newuser)):document.location.href=ajaxcalls_vars.login_redirect,jQuery("#user_not_logged_in").hide(),jQuery("#user_logged_in").show()):(jQuery("#login_user").val(""),jQuery("#login_pwd").val(""))},error:function(e){}})}function login_via_facebook(e){var a;a=control_vars.admin_url+"admin-ajax.php",jQuery.ajax({type:"POST",url:a,data:{action:"wpestate_ajax_facebook_login",login_type:"facebook"},success:function(e){window.location.href=e},error:function(e){}})}function login_via_google(e){var a,t;a=control_vars.admin_url+"admin-ajax.php",t=e.attr("data-social"),jQuery.ajax({type:"POST",url:a,data:{action:"wpestate_ajax_google_login",login_type:t},success:function(e){window.location.href=e},error:function(e){}})}function login_via_google_oauth(){var e;e=control_vars.admin_url+"admin-ajax.php",jQuery.ajax({type:"POST",url:e,data:{action:"wpestate_ajax_google_login_oauth"},success:function(e){window.location.href=e},error:function(e){}})}function update_menu_bar(e){var a,t;t=control_vars.admin_url+"admin-ajax.php",jQuery.ajax({type:"POST",dataType:"json",url:t,data:{action:"wpestate_update_menu_bar",newuser:e},success:function(e){jQuery("#user_menu_u").after(e.menu),a='<div class="menu_user_picture" style="background-image: url('+e.picture+')"></div>',jQuery("#user_menu_u").append(a).addClass("user_loged"),jQuery(".submit_action").remove()},error:function(e){}})}jQuery(".pack-listing .buypackage").click(function(){var e,a,t,r;jQuery(".pack-listing input").each(function(){jQuery(this).is(":checked")&&(jQuery(this).attr("checked",!1),jQuery(this).parent().parent().removeClass("package_selected"))}),jQuery(this).find("input").attr("checked",!0),jQuery(this).parent().addClass("package_selected"),t=jQuery(this).parent().find(".pack-listing-title").attr("data-stripetitle"),a=jQuery(this).parent().find(".pack-listing-title").attr("data-stripetitle2"),r=jQuery(this).parent().find(".pack-listing-title").attr("data-stripepay"),e=jQuery(this).parent().find(".pack-listing-title").attr("data-packid"),jQuery(".stripe_buttons").attr("id",a),jQuery("#stripe_script").attr("data-amount",r),jQuery("#stripe_script").attr("data-description",t),jQuery("#pack_id").val(e),jQuery("#pay_ammout").val(r),jQuery("#stripe_form").attr("data-amount",r)}),jQuery(document).ready(function(e){e(".disable_listing").click(function(){var a=e(this).attr("data-postid"),t=ajaxcalls_vars.admin_url+"admin-ajax.php",r=0;e(this).hasClass("disabledx")?(r=1,e(this).removeClass("disabledx")):e(this).addClass("disabledx");var i=e(this),s=e(this).parent().parent().parent();e.ajax({type:"POST",url:t,data:{action:"wpestate_disable_listing",prop_id:a},success:function(e){1===r?(i.empty().append('<i class="fa fa-play"></i>'),s.find(".user_dashboard_status").empty().append('<span class="label label-info">'+ajaxcalls_vars.disabled+"</span>"),i.tooltip("hide").attr("data-original-title",ajaxcalls_vars.enablelisting).tooltip("fixTitle").tooltip("show")):(i.empty().append('<i class="fa fa-pause"></i>'),s.find(".user_dashboard_status").empty().append('<span class="label label-success">'+ajaxcalls_vars.published+"</span>"),i.tooltip("hide").attr("data-original-title",ajaxcalls_vars.disablelisting).tooltip("fixTitle").tooltip("show"))},error:function(e){}})}),e("#stripe_cancel").click(function(){var a,t;a=e(this).attr("data-stripeid"),t=ajaxcalls_vars.admin_url+"admin-ajax.php",e("#stripe_cancel").text(ajaxcalls_vars.saving),e.ajax({type:"POST",url:t,data:{action:"wpestate_cancel_stripe",stripe_customer_id:a},success:function(a){e("#stripe_cancel").text(ajaxcalls_vars.stripecancel)},error:function(e){}})}),e(".resend_pending").click(function(){resend_for_approval(e(this).attr("data-listingid"),e(this))}),e(".make_featured").click(function(){make_prop_featured(e(this).attr("data-postid"),e(this)),e(this).unbind("click")}),e("#pick_pack").click(function(){var a;a='<div class="modal fade" id="paypal_modal" tabindex="-1" role="dialog" aria-labelledby="myModalLabel" aria-hidden="true"><div class="modal-dialog"><div class="modal-content"><div class="modal-body listing-submit">'+ajaxcalls_vars.paypal+"</div></div></div></div></div>",jQuery("body").append(a),jQuery("#paypal_modal").modal(),e("#pack_recuring").is(":checked")?recuring_pay_pack_via_paypal():pay_pack_via_paypal()}),e(".listing_submit_normal").click(function(){var a,t,r;r='<div class="modal fade" id="paypal_modal" tabindex="-1" role="dialog" aria-labelledby="myModalLabel" aria-hidden="true"><div class="modal-dialog"><div class="modal-content"><div class="modal-body listing-submit">'+ajaxcalls_vars.paypal+"</div></div></div></div></div>",jQuery("body").append(r),jQuery("#paypal_modal").modal(),a=e(this).attr("data-listingid"),t=e(this).parent().find("input").prop("checked")?1:0,listing_pay(a,e(this),t,0)}),e(".listing_upgrade").click(function(){listing_pay(e(this).attr("data-listingid"),e(this),0,1)}),e("#facebooklogin, #facebookloginsidebar, #facebookloginsidebar_topbar,#facebookloginsidebar_mobile").click(function(){login_via_facebook(e(this))}),e("#yahoologin, #aollogin,  #yahoologinsidebar, #yahoologinsidebar_topbar,#yahoologinsidebar_mobile").click(function(){login_via_google(e(this))}),e("#googlelogin, #googleloginsidebar, #googleloginsidebar_topbar,#googleloginsidebar_mobile").click(function(){login_via_google_oauth()}),e(".agent_submit_class").click(function(){var a,t,r,i,s,o,l,n,_;t=(a=e(this).parent()).find("#agent_contact_name").val(),r=a.find("#agent_user_email").val(),i=a.find("#agent_phone").val(),s=a.find("#agent_comment").val(),o=a.find("#agent_id").val(),l=a.find("#agent_property_id").val(),n=a.find("#agent_property_ajax_nonce").val(),_=ajaxcalls_vars.admin_url+"admin-ajax.php",a.find("#alert-agent-contact").empty().append(ajaxcalls_vars.sending),e.ajax({type:"POST",dataType:"json",url:_,data:{action:"wpestate_ajax_agent_contact_form",name:t,email:r,phone:i,comment:s,agent_id:o,propid:l,nonce:n},success:function(e){e.sent&&(a.find("#agent_contact_name").val(""),a.find("#agent_user_email").val(""),a.find("#agent_phone").val(""),a.find("#agent_comment").val("")),a.find("#alert-agent-contact").empty().append(e.response)},error:function(e){}})}),e(".listing_filters_head li").click(function(){var a,t,r;a=e(this).text(),t=e(this).attr("data-value"),(r=e(this).parent().parent()).find(".filter_menu_trigger").text(a).append('<span class="caret caret_filter"></span>').attr("data-value",t),r.find("input:hidden").val(t),start_filtering(1)}),e(".adv_listing_filters_head li").click(function(){var a,t,r,i,s;s=ajaxcalls_vars.admin_url+"admin-ajax.php",a=e(this).text(),t=e(this).attr("data-value"),e(this).parent().parent().find(".filter_menu_trigger").text(a).append('<span class="caret caret_filter"></span>').attr("data-value",t),r=e("#searcharg").val(),i=e("#page_idx").val(),e("#listing_ajax_container").empty(),e("#listing_loader").show(),e.ajax({type:"POST",url:s,data:{action:"wpestate_advanced_search_filters",args:r,value:t,page_id:i},success:function(a){var t;e("#listing_loader").hide(),e("#listing_ajax_container").append(a),restart_js_after_ajax(),t=e("#a_filter_order").attr("data-value"),jQuery(".pagination a").each(function(){var a=e(this).attr("href");a=a+"&order_search="+t,e(this).attr("href",a)})},error:function(e){}})}),e(".icon-fav").click(function(a){a.stopPropagation(),add_remove_favorite(e(this))}),e(".icon-fav-on-remove").click(function(a){a.stopPropagation(),e(this).parent().parent().remove()}),e("#add_favorites").click(function(){var a,t;a=e("#add_favorites").attr("data-postid"),e("#security-pass").val(),t=ajaxcalls_vars.admin_url+"admin-ajax.php",0===parseInt(ajaxcalls_vars.userid,10)?Modernizr.mq("only all and (max-width: 768px)")?jQuery(".mobile-trigger-user").trigger("click"):(jQuery("#modal_login_wrapper").show(),jQuery("#loginpop").val("1")):(e("#add_favorites").text(ajaxcalls_vars.saving),e.ajax({type:"POST",url:t,dataType:"json",data:{action:"wpestate_ajax_add_fav",post_id:a},success:function(a){a.added?e("#add_favorites").text(ajaxcalls_vars.favorite).removeClass("isnotfavorite").addClass("isfavorite"):e("#add_favorites").text(ajaxcalls_vars.add_favorite).removeClass("isfavorite").addClass("isnotfavorite")},error:function(e){}}))}),e("#wp-submit-register").click(function(){wpestate_register_user(3)}),jQuery("#user_email_register, #user_login_register, #user_password, #user_password_retype").keydown(function(e){13===e.keyCode&&(e.preventDefault(),wpestate_register_user(3))}),e("#wp-submit-register_wd").click(function(){wpestate_register_user(2)}),e("#user_email_register_wd, #user_login_register_wd").keydown(function(e){13===e.keyCode&&(e.preventDefault(),wpestate_register_user(2))}),e("#wp-submit-register_topbar").click(function(){wpestate_register_user(1)}),e("#user_email_register_topbar, #user_login_register_topbar, #user_password_topbar, #user_password_topbar_retype").keydown(function(e){13===e.keyCode&&(e.preventDefault(),wpestate_register_user(1))}),e("#wp-submit-register_mobile").click(function(){wpestate_register_user(5)}),e("#user_email_register_mobile, #user_login_register_mobile, #user_password_mobile, #user_password_mobile_retype").keydown(function(e){13===e.keyCode&&(e.preventDefault(),wpestate_register_user(5))}),e("#forgot_pass").click(function(a){a.preventDefault(),e("#login-div").hide(),e("#forgot-pass-div-sh").show()}),e("#return_login").click(function(a){a.preventDefault(),e("#forgot-pass-div-sh").hide(),e("#login-div").show()}),e("#forgot_pass_topbar").click(function(a){a.preventDefault(),e("#login-div_topbar,#login-div-title-topbar,#register-div-topbar,#login-div_topbar,#register-div-title-topbar").hide(),e("#forgot-div-title-topbar,#forgot-pass-div").show()}),e("#forgot_pass_mobile").click(function(a){a.preventDefault(),e("#login-div_mobile,#login-div-title-mobile").hide(),e("#forgot-div-title-mobile,#forgot-pass-div").show()}),e("#return_login_topbar").click(function(a){a.preventDefault(),e("#forgot-div-title-topbar,#forgot-pass-div").hide(),e("#login-div_topbar,#login-div-title-topbar").show()}),e("#return_login_mobile").click(function(a){a.preventDefault(),e("#forgot-div-title-mobile,#forgot-pass-div").hide(),e("#login-div_mobile,#login-div-title-mobile").show()}),e("#forgot_pass_widget").click(function(a){a.preventDefault(),e("#login-div-title,#login-div").hide(),e("#forgot-pass-div_shortcode,#forgot-div-title_shortcode").show()}),e("#return_login_shortcode").click(function(a){a.preventDefault(),e("#forgot-pass-div_shortcode,#forgot-div-title_shortcode").hide(),e("#login-div-title,#login-div").show()}),e("#wp-forgot-but").click(function(){wpestate_forgot(1)}),e("#wp-forgot-but-topbar").click(function(){wpestate_forgot(2)}),e("#wp-forgot-but-mobile").click(function(){wpestate_forgot(5)}),e("#wp-forgot-but_shortcode").click(function(){wpestate_forgot(3)}),e("#forgot_email").keydown(function(e){13===e.keyCode&&(e.preventDefault(),wpestate_forgot(1))}),e("#forgot_email_topbar").keydown(function(e){13===e.keyCode&&(e.preventDefault(),wpestate_forgot(2))}),e("#forgot_email_topbar").keydown(function(e){13===e.keyCode&&(e.preventDefault(),wpestate_forgot(3))}),e("#widget_register_topbar").click(function(a){a.preventDefault(),e("#login-div_topbar,#widget_register_topbar,#login-div-title-topbar,#forgot-div-title-topbar,#forgot-pass-div").hide(),e("#register-div-topbar,#register-div-title-topbar,#widget_login_topbar").show()}),e("#widget_login_topbar").click(function(a){a.preventDefault(),e("#login-div_topbar,#widget_register_topbar,#login-div-title-topbar").show(),e("#register-div-topbar,#register-div-title-topbar,#widget_login_topbar,#forgot-div-title-topbar,#forgot-pass-div").hide()}),e("#widget_register_mobile").click(function(a){a.preventDefault(),e("#login-div_mobile").hide(),e("#register-div-mobile").show(),e("#login-div-title-mobile").hide(),e("#register-div-title-mobile").show()}),e("#widget_login_mobile").click(function(a){a.preventDefault(),e("#login-div_mobile").show(),e("#register-div-mobile").hide(),e("#login-div-title-mobile").show(),e("#register-div-title-mobile").hide()}),e("#widget_register_sw").click(function(a){a.preventDefault(),e(".loginwd_sidebar #login-div").hide(),e(".loginwd_sidebar #register-div").show(),e(".loginwd_sidebar #login-div-title").hide(),e(".loginwd_sidebar #register-div-title").show()}),e("#widget_login_sw").click(function(a){a.preventDefault(),e(".loginwd_sidebar #register-div").hide(),e(".loginwd_sidebar #login-div").show(),e(".loginwd_sidebar #register-div-title").hide(),e(".loginwd_sidebar #login-div-title").show()}),e("#wp-login-but").click(function(){wpestate_login()}),e("#login_pwd, #login_user").keydown(function(e){13===e.keyCode&&(e.preventDefault(),wpestate_login())}),e("#wp-login-but-wd").click(function(){wpestate_login_wd()}),e("#login_pwd_wd, #login_user_wd").keydown(function(e){13===e.keyCode&&(e.preventDefault(),wpestate_login_wd())}),e("#wp-login-but-topbar").click(function(){wpestate_login_topbar()}),e("#login_pwd_topbar, #login_user_topbar").keydown(function(e){13===e.keyCode&&(e.preventDefault(),wpestate_login_topbar())}),e("#wp-login-but-mobile").click(function(){wpestate_login_mobile()}),e("#login_pwd_mobile, #login_user_mobile").keydown(function(e){13===e.keyCode&&(e.preventDefault(),wpestate_login_mobile())}),e("#oldpass, #newpass, #renewpass").keydown(function(e){13===e.keyCode&&(e.preventDefault(),wpestate_change_pass_profile())}),e("#change_pass").click(function(){wpestate_change_pass_profile()}),e("#update_profile").click(function(){var a,t,r,i,s,o,l,n,_,p,u,d,c,g,v,y,j,f,m;p=e("#firstname").val(),u=e("#secondname").val(),d=e("#useremail").val(),c=e("#userphone").val(),t=e("#usermobile").val(),g=e("#userskype").val(),v=e("#usertitle").val(),y=e("#about_me").val(),l=e("#userfacebook").val(),o=e("#usertwitter").val(),s=e("#userlinkedin").val(),i=e("#userpinterest").val(),r=e("#userinstagram").val(),a=e("#website").val(),j=ajaxcalls_vars.admin_url+"admin-ajax.php",f=e("#security-profile").val(),m=e("#upload_picture").val(),n=e("#profile-image").attr("data-profileurl"),_=e("#profile-image").attr("data-smallprofileurl"),window.scrollTo(0,0),e.ajax({type:"POST",url:j,data:{action:"wpestate_ajax_update_profile",firstname:p,secondname:u,useremail:d,userphone:c,usermobile:t,userskype:g,usertitle:v,description:y,upload_picture:m,"security-profile":f,profile_image_url:n,profile_image_url_small:_,userfacebook:l,usertwitter:o,userlinkedin:s,userpinterest:i,userinstagram:r,userurl:a},success:function(a){e("#profile_message").append('<div class="login-alert">'+a+"<div>"),window.scrollTo(0,0)},error:function(e){}})})});